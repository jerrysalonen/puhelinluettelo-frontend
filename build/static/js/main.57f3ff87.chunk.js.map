{"version":3,"sources":["components/Search.js","components/Add.js","components/List.js","services/contactHandler.js","components/Notification.js","App.js","index.js"],"names":["Search","props","react_default","a","createElement","className","htmlFor","type","id","value","onChange","Add","valueName","onChangeName","valueNumber","onChangeNumber","onClick","List","mapNames","url","contactHandler","axios","get","then","response","data","person","post","delete","concat","put","Notification","_ref","message","isError","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","nameSearch","setNameSearch","_useState9","_useState10","showContacts","setShowContacts","_useState11","_useState12","notificationMsg","setNotificationMsg","_useState13","_useState14","setIsError","useEffect","tempPersons","filter","filterText","filterPersons","name","toLowerCase","indexOf","length","components_Notification","components_Search","event","target","components_Add","preventDefault","tempPerson","nameExists","forEach","contactTemp","window","confirm","newContact","number","catch","error","setTimeout","update","components_List","map","key","deleteContact","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.57f3ff87.chunk.js","sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nconst Search = (props) => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"display-4\">Rajaa hakua</h2>\r\n\r\n            <form className=\"col-md-8 my-md-3\">\r\n                <div className=\"form-group my-md-2\">\r\n                    <label htmlFor=\"nameSearch\">Rajaa nimen mukaan:</label>\r\n                    <input type=\"text\" id=\"nameSearch\" className=\"form-control\" value={props.value} onChange={props.onChange} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nconst Add = (props) => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"display-4\">Lisää uusi</h2>\r\n\r\n            <form className=\"col-md-8 my-md-3\">\r\n                <div className=\"form-group my-md-2\">\r\n                    <label htmlFor=\"nameField\">Nimi:</label>\r\n                    <input type=\"text\" id=\"nameField\" className=\"form-control\" value={props.valueName} onChange={props.onChangeName} />\r\n\r\n                    <label htmlFor=\"numberField\">Puhelinnumero:</label>\r\n                    <input type=\"text\" id=\"numberField\" className=\"form-control\" value={props.valueNumber} onChange={props.onChangeNumber} />\r\n                </div>\r\n\r\n                <div className=\"my-md-2\">\r\n                    <button className=\"btn btn-primary\" type=\"submit\" onClick={props.onClick}>lisää</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Add","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nconst List = (props) => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"display-4\">Numerot</h2>\r\n\r\n            <div className=\"col-sm my-md-3\">\r\n                {props.mapNames}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List","import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst readAll = () => {\r\n    const request = axios.get(url)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst addContact = person => {\r\n    const request = axios.post(url, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = person => {\r\n    axios.delete(`${url}/${person.id}`)\r\n}\r\n\r\nconst updateNum = (id, person) => {\r\n    const request = axios.put(`${url}/${id}`, person)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\n\r\nexport default { readAll, addContact, deleteContact, updateNum }","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (isError) {\r\n        return (\r\n            <div className=\"contact-error\">\r\n                <h4>{message}</h4>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"added-contact\">\r\n            <h4>{message}</h4>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Search from './components/Search'\nimport Add from './components/Add'\nimport List from './components/List'\nimport contactHandler from './services/contactHandler'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameSearch, setNameSearch] = useState('')\n  const [showContacts, setShowContacts] = useState([])\n  const [notificationMsg, setNotificationMsg] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n    contactHandler.readAll()\n      .then(tempPersons => {\n        setPersons(tempPersons)\n        setShowContacts(tempPersons)\n      })\n  }, [])\n\n  const nameListener = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberListener = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const nameSearchListener = (event) => {\n    setNameSearch(event.target.value)\n    filter(event.target.value)\n  }\n\n  const filter = (filterText) => {\n    let filterPersons = persons\n    filterPersons = filterPersons.filter((person) => {\n      let personName = person.name.toLowerCase()\n      return personName.indexOf(\n        filterText.toLowerCase()) !== -1\n    })\n    if (filterPersons.length === persons.length) {\n      setShowContacts(persons)\n    } else {\n      setShowContacts(filterPersons)\n    }\n  }\n\n  const update = (id, person) => {\n    contactHandler\n      .updateNum(id, person)\n      .catch(error => {\n        setNotificationMsg(`Kontakti '${person.name}' on jo poistettu tietokannasta`)\n        setIsError(true)\n        setTimeout(() => {\n          setNotificationMsg(null)\n          setIsError(false)\n        }, 5000)  \n      })\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    let nameExists = false\n    let tempPerson\n\n    persons.forEach((contactTemp) => {\n      if (contactTemp.name === newName) {\n        nameExists = true\n        tempPerson = contactTemp\n      }\n    })\n\n    if (!nameExists) {\n      const newContact = {\n        name: newName,\n        number: newNumber\n      }\n\n      contactHandler.addContact(newContact)\n      .catch(error => {\n        setNotificationMsg('Nimi tai numero liian lyhyt (nimen on oltava vähintään 3 merkkiä ja numeron 8 merkkiä pitkä)')\n        setIsError(true)\n        setTimeout(() => {\n          setNotificationMsg(null)\n          setIsError(false)\n        }, 5000) \n      })\n\n      setPersons(persons.concat(newContact))\n\n      setNotificationMsg(`Kontakti '${newContact.name}' lisätty`)\n      setIsError(false)\n      setTimeout(() => { \n        setNotificationMsg(null) \n      }, 5000)\n\n      setNewName('')\n      setNewNumber('')\n\n      contactHandler.readAll()\n        .then(tempPersons => {\n          setPersons(tempPersons)\n          setShowContacts(tempPersons)\n        })\n\n    } else {\n      let confirm = window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)\n      if (confirm) {\n        const newContact = {\n          name: newName,\n          number: newNumber\n        }\n        let id = tempPerson.id\n        update(id, newContact)\n\n        setNewName('')\n        setNewNumber('')\n\n        contactHandler.readAll()\n          .then(tempPersons => {\n            setPersons(tempPersons)\n            setShowContacts(tempPersons)\n          })\n      }\n    }\n  }\n\n  const deleteContact = (person) => {\n    let confirm = window.confirm(`Poistetaanko ${person.name}?`)\n    if (confirm) {\n      contactHandler.deleteContact(person)\n      contactHandler.readAll()\n        .then(tempPersons => {\n          setPersons(tempPersons)\n          setShowContacts(tempPersons)\n        })\n    }\n  }\n\n  const mapNames = () => showContacts.map(person =>\n    <div key={person.name + \"_div\"}>\n      <p key={person.name}>{person.name} {person.number}</p>\n      <button onClick={() => deleteContact(person)} className=\"btn btn-primary\" key={person.name + \"_btn\"}>Poista</button>\n    </div>\n  )\n\n  return (\n    <div className=\"container\">\n\n      <h2 className=\"display-3\">Puhelinluettelo</h2>\n\n      <Notification message={notificationMsg} isError={isError} />\n\n      <Search value={nameSearch} onChange={nameSearchListener} />\n\n      <Add valueName={newName}\n        valueNumber={newNumber}\n        onChangeName={nameListener}\n        onChangeNumber={numberListener}\n        onClick={addContact}\n      />\n\n      <List mapNames={mapNames()} />\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}