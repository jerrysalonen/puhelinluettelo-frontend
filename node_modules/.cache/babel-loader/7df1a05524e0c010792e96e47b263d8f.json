{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\salon\\\\Documents\\\\GitHub\\\\HYFullStack\\\\osa2\\\\puhelinluettelo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\salon\\\\Documents\\\\GitHub\\\\HYFullStack\\\\osa2\\\\puhelinluettelo\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Search from './components/Search';\nimport Add from './components/Add';\nimport List from './components/List';\nimport axios from 'axios';\n\nvar App = function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      persons = _useState2[0],\n      setPersons = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newName = _useState4[0],\n      setNewName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newNumber = _useState6[0],\n      setNewNumber = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nameSearch = _useState8[0],\n      setNameSearch = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showContacts = _useState10[0],\n      setShowContacts = _useState10[1];\n\n  useEffect(function () {\n    console.log('effect');\n    axios.get('http://localhost:3001/persons').then(function (response) {\n      console.log('data fetched');\n      setPersons(response.data);\n    });\n  }, []);\n\n  var nameListener = function nameListener(event) {\n    setNewName(event.target.value);\n  };\n\n  var numberListener = function numberListener(event) {\n    setNewNumber(event.target.value);\n  };\n\n  var nameSearchListener = function nameSearchListener(event) {\n    setNameSearch(event.target.value);\n    console.log(nameSearch);\n    persons.forEach(function (person) {\n      if (person.name.search(regex) >= 0) {\n        setShowContacts(false);\n      } else {\n        setShowContacts(true);\n      }\n    });\n  };\n\n  var reg = \"^\" + nameSearch;\n  var regex = new RegExp(reg, \"ig\");\n  var contactsToShow = showContacts ? persons : persons.filter(function (person) {\n    return person.name.search(regex) >= 0;\n  });\n\n  var addContact = function addContact(event) {\n    event.preventDefault();\n    var nameExists = false;\n    persons.forEach(function (contactTemp) {\n      if (contactTemp.name === newName) {\n        nameExists = true;\n      }\n    });\n\n    if (!nameExists) {\n      var newContact = {\n        name: newName,\n        number: newNumber\n      };\n      setPersons(persons.concat(newContact));\n      setNewName('');\n      setNewNumber('');\n    } else {\n      alert(\"\".concat(newName, \" on jo puhelinluettelossa!\"));\n    }\n  };\n\n  var mapNames = function mapNames() {\n    return contactsToShow.map(function (person) {\n      return React.createElement(\"p\", {\n        key: person.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, person.name, \" \", person.number);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"display-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Puhelinluettelo\"), React.createElement(Search, {\n    value: nameSearch,\n    onChange: nameSearchListener,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Add, {\n    valueName: newName,\n    valueNumber: newNumber,\n    onChangeName: nameListener,\n    onChangeNumber: numberListener,\n    onClick: addContact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(List, {\n    mapNames: mapNames(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\salon\\Documents\\GitHub\\HYFullStack\\osa2\\puhelinluettelo\\src\\App.js"],"names":["React","useState","useEffect","Search","Add","List","axios","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameSearch","setNameSearch","showContacts","setShowContacts","console","log","get","then","response","data","nameListener","event","target","value","numberListener","nameSearchListener","forEach","person","name","search","regex","reg","RegExp","contactsToShow","filter","addContact","preventDefault","nameExists","contactTemp","newContact","number","concat","alert","mapNames","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Search from './components/Search'\nimport Add from './components/Add'\nimport List from './components/List'\nimport axios from 'axios'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])  \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameSearch, setNameSearch] = useState('')\n  const [showContacts, setShowContacts] = useState(true)\n\n  useEffect(() => {\n    console.log('effect')\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('data fetched')\n        setPersons(response.data)\n      })\n  }, [])\n\n  const nameListener = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberListener = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const nameSearchListener = (event) => {\n    setNameSearch(event.target.value)\n    console.log(nameSearch)\n    persons.forEach((person) => {\n      if (person.name.search(regex) >= 0) {\n        setShowContacts(false)\n      } else {\n        setShowContacts(true)\n      }\n    })\n  }\n\n  let reg = \"^\" + nameSearch\n  let regex = new RegExp(reg, \"ig\")\n  const contactsToShow = showContacts\n    ? persons\n    : persons.filter(person => person.name.search(regex) >= 0)\n\n  const addContact = (event) => {\n    event.preventDefault()\n    let nameExists = false\n\n    persons.forEach((contactTemp) => {\n      if (contactTemp.name === newName) {\n        nameExists = true\n      }\n    })\n\n    if (!nameExists) {\n      const newContact = {\n        name: newName,\n        number: newNumber\n      }\n      setPersons(persons.concat(newContact))\n      setNewName('')\n      setNewNumber('')\n    } else {\n      alert(`${newName} on jo puhelinluettelossa!`)\n    }\n  }\n\n  const mapNames = () => contactsToShow.map(person =>\n    <p key={person.name}>{person.name} {person.number}</p>\n  )\n\n  return (\n    <div className=\"container\">\n\n      <h2 className=\"display-3\">Puhelinluettelo</h2>\n\n      <Search value={nameSearch} onChange={nameSearchListener} />\n\n      <Add valueName={newName}\n          valueNumber={newNumber}\n          onChangeName={nameListener}\n          onChangeNumber={numberListener} \n          onClick={addContact}\n        />\n\n      <List mapNames={mapNames()} />\n\n    </div>\n  )\n\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}